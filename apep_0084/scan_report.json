{
  "paper_id": "apep_0084",
  "scan_date": "2026-02-06T12:43:30.651579+00:00",
  "scan_version": "2.0.0",
  "model": "openai/gpt-5.2",
  "overall_verdict": "SUSPICIOUS",
  "files_scanned": 8,
  "flags": [
    {
      "category": "DATA_PROVENANCE_MISSING",
      "severity": "HIGH",
      "file": "04_build_analysis_data.R",
      "lines": [
        15,
        16
      ],
      "evidence": "Core analysis data are loaded from another paper's local repository path (papers/apep_0103/...) rather than being constructed from the FARS download script in this project. Without the upstream script and a documented data lineage (what cleaning/imputation was applied, versions, and whether it matches the manuscript's described FARS variables like DRUNK_DR), reproducibility and provenance for the main outcome/sample are not verifiable from this codebase alone.: fars_raw <- readRDS(here::here(\"papers/apep_0103/data/fars_analysis_policy_fixed_clean.rds\"))",
      "confidence": 0.9
    },
    {
      "category": "METHODOLOGY_MISMATCH",
      "severity": "HIGH",
      "file": "04_build_analysis_data.R",
      "lines": [
        97,
        98
      ],
      "evidence": "Manuscript states driving time is computed using routing factor 1.3 and average speed 85 km/h. Code uses 65 km/h, which will inflate drive_time_min by ~31% (85/65) and changes both levels and log(drive_time_min), directly affecting the main regressor and interpretation (e.g., 'doubling drive time'). This is a substantive implementation mismatch with the paper's measurement section.: # Convert to driving time (assuming 65 km/h average speed, 1.3 routing factor)\nfars_illegal$drive_time_min <- (fars_illegal$dist_to_disp_km * 1.3 / 65) * 60",
      "confidence": 0.95
    },
    {
      "category": "METHODOLOGY_MISMATCH",
      "severity": "MEDIUM",
      "file": "04_build_analysis_data.R",
      "lines": [
        63,
        64,
        65,
        66,
        67
      ],
      "evidence": "Manuscript describes date-accurate dispensary availability rules for NV (from 2017-07-01) and CA (from 2018-01-01), while CO/WA/OR are treated as available earlier. In this project code that actually constructs analysis_data, dispensaries are treated as always-available (no crash-date filtering by legal opening). This creates potential look-ahead bias and contradicts the manuscript's stated mitigation strategy.: disp_mat <- dispensaries %>%\n  select(latitude, longitude, state) %>%\n  filter(!is.na(latitude), !is.na(longitude))",
      "confidence": 0.8
    },
    {
      "category": "METHODOLOGY_MISMATCH",
      "severity": "MEDIUM",
      "file": "04_build_analysis_data.R",
      "lines": [
        106,
        107,
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        115,
        116
      ],
      "evidence": "Manuscript defines the main outcome using FARS DRUNK_DR >= 1 (NHTSA-imputed drunk drivers). The analysis dataset is instead built from an upstream variable alc_involved (from another project), with no verification that it is identical to DRUNK_DR>=1, nor that it uses the same imputation definition. This is a potential mismatch with the paper's stated outcome construction and could change the estimand.: analysis_data <- fars_illegal %>%\n  select(\n    ...\n    # Outcomes\n    alc_involved, thc_positive_fixed, substance_cat_fixed,\n    ...\n  ) %>%\n  rename(\n    alcohol_involved = alc_involved,\n    thc_involved = thc_positive_fixed\n  )",
      "confidence": 0.75
    },
    {
      "category": "SUSPICIOUS_TRANSFORMS",
      "severity": "MEDIUM",
      "file": "05_main_analysis.R",
      "lines": [
        19,
        20,
        21,
        22,
        23
      ],
      "evidence": "Manuscript sample restrictions specify dropping drive times < 10 minutes and > 600 minutes. Code drops only <=0 and >=600, meaning observations between (0,10) minutes are retained (contrary to the paper). Even if rare, this is a stated sample construction discrepancy that can affect results, especially near borders where leverage may be high.: analysis_clean <- analysis_data %>%\n  filter(\n    !is.na(drive_time_min),\n    !is.na(alcohol_involved),\n    drive_time_min > 0,\n    drive_time_min < 600  # Exclude unreasonable values (>10 hours)\n  )",
      "confidence": 0.85
    },
    {
      "category": "SUSPICIOUS_TRANSFORMS",
      "severity": "LOW",
      "file": "06_figures.R",
      "lines": [
        143,
        144,
        145
      ],
      "evidence": "Figure binscatter restricts to drive_time_min < 400 with no manuscript justification. This truncation can visually amplify/attenuate the apparent relationship and differs from the analysis sample (<600). If intended only for plot readability, it should be documented; otherwise it is a potentially biasing visualization choice.: binscatter_data <- analysis_data %>%\n  filter(!is.na(drive_time_min), !is.na(alcohol_involved),\n         drive_time_min > 0, drive_time_min < 400)",
      "confidence": 0.7
    },
    {
      "category": "SELECTIVE_REPORTING",
      "severity": "LOW",
      "file": "07_tables.R",
      "lines": [
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169,
        170,
        171
      ],
      "evidence": "The codebase includes a placeholder robustness table rather than producing the robustness results described in the manuscript (e.g., wild cluster bootstrap p-values are mentioned in the paper). This creates a risk that some reported robustness checks were run elsewhere and not captured in the reproducible pipeline.: # Will be populated during robustness analysis\n# For now, create placeholder structure\n\nrobustness_notes <- \"\nTable 5: Robustness Checks\n\nTo be added:\n1. Poisson regression (count outcome)\n2. County-level aggregation\n3. Conley spatial HAC standard errors\n4. Wild cluster bootstrap\n5. Different drive time thresholds\n6. Event study by border pair\n\"\n\nwriteLines(robustness_notes, file.path(tab_dir, \"tab5_robustness_notes.txt\"))",
      "confidence": 0.65
    }
  ],
  "file_verdicts": [
    {
      "file": "01_fetch_fars.R",
      "verdict": "CLEAN"
    },
    {
      "file": "07_tables.R",
      "verdict": "CLEAN"
    },
    {
      "file": "00_packages.R",
      "verdict": "CLEAN"
    },
    {
      "file": "06_figures.R",
      "verdict": "CLEAN"
    },
    {
      "file": "05_main_analysis.R",
      "verdict": "CLEAN"
    },
    {
      "file": "04_build_analysis_data.R",
      "verdict": "SUSPICIOUS"
    },
    {
      "file": "03_compute_driving_times.py",
      "verdict": "CLEAN"
    },
    {
      "file": "02_fetch_dispensaries.py",
      "verdict": "CLEAN"
    }
  ],
  "summary": {
    "verdict": "SUSPICIOUS",
    "counts": {
      "CRITICAL": 0,
      "HIGH": 2,
      "MEDIUM": 3,
      "LOW": 2
    },
    "one_liner": "unclear provenance; method mismatch",
    "executive_summary": "The analysis dataset is not reproducibly built within this project: `04_build_analysis_data.R` loads core inputs from another paper\u2019s local repository path (`papers/apep_0103/...`) instead of constructing them from the project\u2019s own FARS download/build scripts, so the results depend on unavailable upstream code and files. The implementation also conflicts with the manuscript\u2019s described travel-time calculation\u2014while the paper states a routing factor of 1.3 and an average speed of 85 km/h, the code uses 65 km/h, which inflates `drive_time_min` by roughly 31% and can materially change downstream estimates that use driving time (including log-transformed terms).",
    "top_issues": [
      {
        "category": "DATA_PROVENANCE_MISSING",
        "severity": "HIGH",
        "short": "Core analysis data are loaded from another paper's local ...",
        "file": "04_build_analysis_data.R",
        "lines": [
          15,
          16
        ],
        "github_url": "https://github.com/SocialCatalystLab/ape-papers/blob/main/apep_0084/code/04_build_analysis_data.R#L15-L16"
      },
      {
        "category": "METHODOLOGY_MISMATCH",
        "severity": "HIGH",
        "short": "Manuscript states driving time is computed using routing ...",
        "file": "04_build_analysis_data.R",
        "lines": [
          97,
          98
        ],
        "github_url": "https://github.com/SocialCatalystLab/ape-papers/blob/main/apep_0084/code/04_build_analysis_data.R#L97-L98"
      }
    ],
    "full_report_url": "https://github.com/SocialCatalystLab/ape-papers/blob/main/tournament/corpus_scanner/scans/apep_0084_scan.json"
  },
  "error": null
}