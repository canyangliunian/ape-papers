{
  "paper_id": "apep_0076",
  "scan_date": "2026-02-06T12:41:50.806648+00:00",
  "scan_version": "2.0.0",
  "model": "openai/gpt-5.2",
  "overall_verdict": "SUSPICIOUS",
  "files_scanned": 7,
  "flags": [
    {
      "category": "DATA_PROVENANCE_MISSING",
      "severity": "MEDIUM",
      "file": "02_clean_data.R",
      "lines": [
        24
      ],
      "evidence": "The main analysis relies on a local file (data/state_crime_corgis.csv) but the repository code shown does not include a script that downloads/records the provenance and version of this CORGIS dataset. 01_fetch_data.R attempts to fetch FBI CDE data but does not fetch CORGIS; instead it can fall back to creating an empty placeholder crime_df. This makes the data provenance and exact input dataset used for the published results unclear/reproducibility incomplete.: crime_raw <- read_csv(file.path(DATA_DIR, \"state_crime_corgis.csv\"), show_col_types = FALSE)",
      "confidence": 0.78
    },
    {
      "category": "METHODOLOGY_MISMATCH",
      "severity": "HIGH",
      "file": "03_main_analysis.R",
      "lines": [
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        115
      ],
      "evidence": "For the Callaway-Sant\u2019Anna estimator (did::att_gt), early adopters (eitc_adopted < 1999) are assigned first_treat_cs = 0, which is the same code used for never-treated units. This contradicts the manuscript, which explicitly states that pre-2000 adopters have no pre-treatment observations and are excluded/treated as always-treated (not as controls). As written, this likely misclassifies always-treated states as never-treated controls, contaminating the control group and potentially invalidating CS ATT/event-study estimates.: cs_data <- analysis_data %>%\n  mutate(\n    # CS requires numeric id\n    id = as.numeric(factor(state_abbr)),\n    # First treatment period (0 for never treated)\n    first_treat_cs = if_else(is.na(eitc_adopted) | eitc_adopted < 1999, 0, as.integer(eitc_adopted))\n  )",
      "confidence": 0.93
    },
    {
      "category": "SUSPICIOUS_TRANSFORMS",
      "severity": "MEDIUM",
      "file": "01_fetch_data.R",
      "lines": [
        16,
        17,
        18,
        19,
        20,
        21,
        22,
        23,
        24,
        25,
        26,
        27,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36,
        37,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        46,
        47,
        48,
        49,
        50,
        51,
        52,
        53,
        54,
        55,
        56,
        57,
        58,
        59
      ],
      "evidence": "Key treatment data (state EITC adoption timing, refundability, and generosity) are manually hard-coded. Additionally, Minnesota and Wisconsin generosity are explicitly imputed as approximate constants. While the manuscript notes multiple sources, the code does not record citations/URLs per entry nor provides a reproducible extraction. These manual imputations can materially affect both the binary treatment indicator (if adoption timing is wrong) and the continuous generosity specification.: eitc_policy <- tribble(\n  ~state_abbr, ~state_name, ~eitc_adopted, ~eitc_pct_2019, ~refundable,\n  \"CA\", \"California\", 2015, 85, TRUE,\n  ...\n  \"MN\", \"Minnesota\", 1991, NA, TRUE,  # Uses own formula, not % of federal\n  ...\n  \"WI\", \"Wisconsin\", 1989, NA, TRUE  # Uses formula based on # kids, not % of federal\n) %>%\n  mutate(\n    eitc_adopted = as.integer(eitc_adopted),\n    # For states with formula-based EITC, impute approximate equivalent %\n    eitc_pct_2019 = case_when(\n      state_abbr == \"MN\" ~ 25,  # Approximate\n      state_abbr == \"WI\" ~ 11,  # Approximate average\n      TRUE ~ eitc_pct_2019\n    )\n  )",
      "confidence": 0.84
    },
    {
      "category": "METHODOLOGY_MISMATCH",
      "severity": "MEDIUM",
      "file": "01_fetch_data.R",
      "lines": [
        14,
        15
      ],
      "evidence": "The manuscript discusses constructing a state-year policy database and uses the continuous treatment specification (Generosity_st). However, the code uses a single 2019 generosity value (eitc_pct_2019) and applies it to all treated years via `eitc_generosity = if_else(has_eitc == 1, coalesce(eitc_pct_2019, 0), 0)`. This implements a time-invariant generosity measure, not a true state-year generosity series; it can attenuate/alter the estimated dose-response and conflicts with the manuscript statement that some state rates changed over time (also noted in Table \\ref{tab:eitc_timing} notes).: # Note: Generosity may change over time - using 2019 values for cross-section",
      "confidence": 0.82
    },
    {
      "category": "DATA_PROVENANCE_MISSING",
      "severity": "LOW",
      "file": "01_fetch_data.R",
      "lines": [
        165,
        166,
        167,
        168,
        169,
        170,
        171,
        172,
        173,
        174,
        175,
        176,
        177,
        178
      ],
      "evidence": "If the FBI API is unavailable, 01_fetch_data.R creates an empty placeholder `crime_df` rather than downloading an alternative real dataset. This is not fabrication by itself, but it creates ambiguity about which data source actually produced `analysis_eitc_crime.csv` (CDE API vs CORGIS vs external manual download), and it can lead to silently missing analysis data if users run the pipeline without separately obtaining the CORGIS file.: crime_df <- data.frame(\n    state_abbr = character(),\n    year = integer(),\n    population = numeric(),\n    property_crime_rate = numeric(),\n    burglary_rate = numeric(),\n    larceny_rate = numeric(),\n    mvt_rate = numeric()\n  )",
      "confidence": 0.74
    }
  ],
  "file_verdicts": [
    {
      "file": "01_fetch_data.R",
      "verdict": "CLEAN"
    },
    {
      "file": "06_tables.R",
      "verdict": "CLEAN"
    },
    {
      "file": "00_packages.R",
      "verdict": "CLEAN"
    },
    {
      "file": "04_robustness.R",
      "verdict": "CLEAN"
    },
    {
      "file": "02_clean_data.R",
      "verdict": "CLEAN"
    },
    {
      "file": "03_main_analysis.R",
      "verdict": "SUSPICIOUS"
    },
    {
      "file": "05_figures.R",
      "verdict": "CLEAN"
    }
  ],
  "summary": {
    "verdict": "SUSPICIOUS",
    "counts": {
      "CRITICAL": 0,
      "HIGH": 1,
      "MEDIUM": 3,
      "LOW": 1
    },
    "one_liner": "method mismatch",
    "executive_summary": "In `03_main_analysis.R`, the Callaway\u2013Sant\u2019Anna setup for `did::att_gt` assigns early adopters (`eitc_adopted < 1999`) `first_treat_cs = 0`, which is the same value used for never-treated units. This collapses treated and never-treated groups, causing early-adoption units to be misclassified as controls and undermining the validity and interpretation of the estimated treatment effects.",
    "top_issues": [
      {
        "category": "METHODOLOGY_MISMATCH",
        "severity": "HIGH",
        "short": "For the Callaway-Sant\u2019Anna estimator (did",
        "file": "03_main_analysis.R",
        "lines": [
          108,
          109
        ],
        "github_url": "https://github.com/SocialCatalystLab/ape-papers/blob/main/apep_0076/code/03_main_analysis.R#L108-L115"
      }
    ],
    "full_report_url": "https://github.com/SocialCatalystLab/ape-papers/blob/main/tournament/corpus_scanner/scans/apep_0076_scan.json"
  },
  "error": null
}