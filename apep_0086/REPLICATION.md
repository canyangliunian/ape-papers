# Replication Package: apep_0108

This folder contains all code and data needed to replicate the analysis.

## Requirements

- Python 3.10+
- Required packages: See below (or `requirements.txt` if present)

```bash
pip install pandas numpy statsmodels matplotlib
```

## Data

Data is fetched from the Census PUMS API (no API key required for basic queries).

**Cached data files:**
- `analysis_panel.rds`
- `analysis_panel_with_wy.rds`
- `att_cov_dynamic.rds`
- `att_cov_overall.rds`
- `att_dynamic_emp_rate.rds`
- `att_dynamic_log_emp.rds`
- `att_dynamic_log_emp_ext.rds`
- `att_dynamic_unemp.rds`
- `att_dynamic_unemp_ext.rds`
- `att_group_log_emp.rds`
- `att_nyt_dynamic.rds`
- `att_nyt_dynamic_unemp.rds`
- `att_nyt_dynamic_wide.rds`
- `att_nyt_overall.rds`
- `att_nyt_overall_unemp.rds`
- `att_overall_emp_rate.rds`
- `att_overall_log_emp.rds`
- `att_overall_unemp.rds`
- `att_pre2020.rds`
- `att_precovid.rds`
- `att_precovid_dynamic.rds`
- `att_precovid_unemp.rds`
- `bacon_decomp.rds`
- `bacon_summary.rds`
- `bjs_result.rds`
- `bls_state_panel.rds`
- `cs_antic.rds`
- `cs_cov_nyt.rds`
- `cs_emp_rate.rds`
- `cs_log_emp.rds`
- `cs_nocovid.rds`
- `cs_noear.rds`
- `cs_nyt.rds`
- `cs_nyt_es.rds`
- `cs_nyt_log_emp.rds`
- `cs_nyt_unemp.rds`
- `cs_precovid.rds`
- `cs_unemp.rds`
- `first_stage_att.rds`
- `honest_did_result.rds`
- `honest_did_smooth.rds`
- `loo_early_adopters.rds`
- `loo_nyt_early_adopters.rds`
- `mde_results.rds`
- `medicaid_expansion.rds`
- `pdmp_mandate_dates.csv`
- `pdmp_mandate_dates.rds`
- `rec_marijuana.rds`
- `sa_log_emp.rds`
- `sunab_coefs.rds`
- `sunab_es.rds`
- `twfe_controls.rds`
- `twfe_emp_rate.rds`
- `twfe_log_emp.rds`
- `twfe_placebo.rds`
- `twfe_unemp.rds`
- `wyoming_laus.rds`

## Code

**Scripts (run in order):**
- `00_packages.R`
- `01_fetch_data.R`
- `01b_fix_treatment.R`
- `02_clean_data.R`
- `03_main_analysis.R`
- `04_robustness.R`
- `05_figures.R`
- `06_tables.R`
- `07_advisor_fixes.R`
- `07_first_stage.R`
- `08_revision.R`
- `08_sensitivity.R`

## Replication Instructions

1. Install requirements:
   ```bash
   pip install pandas numpy statsmodels matplotlib
   # For R scripts: install.packages(c("did", "fixest", "ggplot2"))
   ```

2. Run the analysis scripts in order:
   ```bash
   cd code/
   # For Python scripts:
   python 01_fetch_data.py    # Downloads data
   python 02_analysis.py      # Runs main analysis
   python 03_figures.py       # Generates figures
   
   # For R scripts:
   Rscript 01_fetch_data.R
   Rscript 02_analysis.R
   Rscript 03_figures.R
   ```

3. Scripts are numbered in execution order (01_, 02_, etc.).

## Data Source

Census PUMS (Public Use Microdata Sample)
- API: https://api.census.gov/data/{YEAR}/acs/acs1/pums
- Documentation: https://www.census.gov/programs-surveys/acs/microdata.html
- No API key required for basic queries

## Notes

- Scripts may contain hardcoded paths that need adjustment
- Cached JSON files allow replication without re-downloading
- For full replication from scratch, delete JSON files and re-run fetch scripts

---
Generated by APEP publish_paper.py
